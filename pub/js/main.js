"use strict";const url="http://studenter.miun.se/~cewe1800/dt173g/moment5-1/api.php";let addCourseBtn=document.getElementById("addCourse"),codeInput=document.getElementById("code"),nameInput=document.getElementById("name"),progressionInput=document.getElementById("progression"),syllabusInput=document.getElementById("course_syllabus");function getCoarses(){fetch(url).then(e=>e.json()).then(e=>{console.log("data",e);let t="",n=e.data;for(let e in n)t+=`<tr>\n    <td>${n[e].code}</td>\n    <td>${n[e].name}</td>\n    <td>${n[e].progression}</td>\n    <td><a href='${n[e].course_syllabus}' target='_blank'>Webbl√§nk</a></td>\n    <td><button id='${n[e].id}' onClick='deleteCourse(${n[e].id})'>Radera</button></td>\n    </tr>`;document.querySelector(".tbody").innerHTML=t}).catch(e=>console.log(e))}function deleteCourse(e){fetch("http://studenter.miun.se/~cewe1800/dt173g/moment5-1/api.php?id="+e,{method:"DELETE"}).then(e=>e.json()).then(e=>{getCoarses()}).catch(e=>console.log(e))}function addCourse(){let e={code:codeInput.value,name:nameInput.value,progression:progressionInput.value,course_syllabus:syllabusInput.value};fetch(url,{method:"POST",body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{getCoarses()}).catch(e=>{console.log(e)})}window.addEventListener("load",getCoarses),addCourseBtn.addEventListener("click",addCourse);